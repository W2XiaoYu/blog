# Vim 常用命令速查表

> Vim 是 Linux 下最常用的文本编辑器之一，支持强大的快捷键与模式操作。掌握基本命令后，可极大提高编辑效率。

## 模式切换

| 模式 | 说明 | 进入方式 |
|------|------|-----------|
| 普通模式（Normal） | 默认模式 | ESC |
| 插入模式（Insert） | 编辑文本 | `i`, `I`, `a`, `A`, `o`, `O` |
| 命令模式（Command） | 执行命令 | `:` |
| 可视模式（Visual） | 选中文本 | `v`（字符）、`V`（行） |

## 插入模式常用快捷键

| 命令 | 说明 |
|------|------|
| `i` | 在光标前插入 |
| `I` | 在当前行首插入 |
| `a` | 在光标后插入 |
| `A` | 在当前行末插入 |
| `o` | 在当前行下插入新行 |
| `O` | 在当前行上插入新行 |
| `ESC` | 返回普通模式 |

## 文件操作命令（命令模式）

| 命令 | 说明 |
|------|------|
| `:w` | 保存 |
| `:q` | 退出 |
| `:wq` 或 `ZZ` | 保存并退出 |
| `:q!` | 强制退出（不保存） |
| `:w filename` | 另存为指定文件 |
| `:e filename` | 打开文件 |
| `:!cmd` | 执行外部命令，如 `:!ls` |

## 移动光标

| 命令 | 说明 |
|------|------|
| `h` `l` | 左 / 右 |
| `j` `k` | 下 / 上 |
| `w` / `b` | 下一个 / 上一个单词 |
| `0` / `^` / `$` | 行首 / 首字符 / 行尾 |
| `gg` / `G` | 文件开头 / 文件结尾 |
| `:n` | 跳转到第 n 行（如 `:10`） |

## 编辑文本

| 命令 | 说明 |
|------|------|
| `x` | 删除当前字符 |
| `dd` | 删除整行 |
| `yy` | 复制整行（yank） |
| `p` | 粘贴到光标后 |
| `P` | 粘贴到光标前 |
| `u` | 撤销上一步操作 |
| `Ctrl + r` | 重做撤销的操作 |
| `r<char>` | 替换当前字符为 `<char>` |
| `cw` | 删除并编辑一个单词（change word） |
| `ci"` | 删除并编辑双引号内内容 |

## 搜索与替换

| 命令 | 说明 |
|------|------|
| `/keyword` | 向下搜索关键字 |
| `?keyword` | 向上搜索关键字 |
| `n` / `N` | 下一个 / 上一个匹配项 |
| `:%s/foo/bar/g` | 全文替换 foo 为 bar |
| `:s/foo/bar/g` | 当前行替换 |
| `:%s/foo/bar/gc` | 替换并确认每一处 |

## 多文件与窗口

| 命令 | 说明 |
|------|------|
| `:split filename` | 水平分屏打开文件 |
| `:vsplit filename` | 垂直分屏打开文件 |
| `Ctrl + w` + `w` | 切换窗口 |
| `:n` / `:prev` | 下一个 / 上一个缓冲区文件 |
| `:ls` | 查看缓冲区列表 |
| `:b 2` | 切换到第 2 个缓冲区文件 |

## 实用设置命令

| 命令 | 说明 |
|------|------|
| `:set number` | 显示行号 |
| `:set nonumber` | 取消显示行号 |
| `:set paste` | 粘贴模式（避免缩进错乱） |
| `:set ignorecase` | 搜索时忽略大小写 |
| `:syntax on` | 启用语法高亮 |

## 快速退出 Vim

| 状况 | 命令 |
|------|------|
| 保存并退出 | `:wq` 或 `ZZ` |
| 不保存退出 | `:q!` |
| 强制保存退出 | `:wq!` |

## 小技巧

- 用 `vim +n filename` 直接打开第 n 行
- 用 `vim -O file1 file2` 垂直分屏打开多个文件
- 使用 `vim .` 浏览当前目录下的文件（和文件管理器类似）
